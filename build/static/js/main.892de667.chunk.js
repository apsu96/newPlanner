(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{105:function(e,t,a){},334:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(32),c=a.n(i),s=a(129),l=(a(334),a(105),a(28)),d=a(7),u=a(5),j=a(546),b=a(143),h=a(111),m=a(178),f=a(63),O=a(270),g=a(543),p=a(128),x=a(547),v=a(41),y=a.n(v),k=a(264),C=a.n(k),D=(a(130),a(188)),S=a(1),N=a(78),_=a(8),w=a(9),W=a(45),I=a.n(W),P=a(52),A=a(75),M=a.n(A),F="memory";!function(e){e.Work="Work",e.Rest="Leisure"}(n||(n={}));var Y="data",T=function(){function e(){Object(_.a)(this,e),this.actionCards=[],this.profile="",Object(P.d)(this)}return Object(w.a)(e,[{key:"setProfile",value:function(e){this.profile=e}},{key:"getActionCards",value:function(){var e=Object(N.a)(I.a.mark((function e(){var t,a,n=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/get_todo",{headers:{Token:localStorage.getItem("token")||""}});case 2:if(t=e.sent,a=t.data,null!==t.data){e.next=9;break}return this.actionCards=[],e.abrupt("return");case 9:a.map((function(e){return n.actionCards.push({id:e.Id,actionName:e.ActionName,expectedDuration:e.ExpectedDuration,isWork:"true"===e.IsWork,date:e.Date,realDuration:e.RealDuration,emotion:e.Emotion,isDone:"true"===e.IsDone}),n.actionCards}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUsername",value:function(){var e=Object(N.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("/get_username",{headers:{Token:localStorage.getItem("token")||""}});case 2:t=e.sent,this.profile=t.data;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addActionCard",value:function(e){var t=this;this.actionCards.push(e);var a={actionName:e.actionName,expectedDuration:e.expectedDuration,isWork:e.isWork.toString(),date:e.date,realDuration:e.realDuration.toString(),emotion:e.emotion,isDone:e.isDone.toString(),id:e.id};M.a.post("/create_todo",a,{headers:{Token:localStorage.getItem("token")||""}}).then((function(a){return t.actionCards.map((function(t){return t.id===e.id?Object(S.a)(Object(S.a)({},t),{},{id:a.data}):t}))}))}},{key:"updateActionCard",value:function(e){var t=this.actionCards.filter((function(t){return t.id===e})),a={id:t[0].id,actionName:t[0].actionName,expectedDuration:t[0].expectedDuration,isWork:t[0].isWork.toString(),date:t[0].date,realDuration:t[0].realDuration.toString(),emotion:t[0].emotion,isDone:t[0].isDone.toString()};M.a.post("/update_todo",a,{headers:{Token:localStorage.getItem("token")||""}}).catch((function(e){return console.log("Error")}))}},{key:"preparePlanningChart",value:function(e){var t=this.sortPlanner(e).filter((function(e){return!0===e.isWork})),a=this.sortPlanner(e).filter((function(e){return!1===e.isWork})),n=0;t.map((function(e){var t=e.expectedDuration.split(":");return n+=60*+t[0]+ +t[1]}));var r=0;a.map((function(e){var t=e.expectedDuration.split(":");return r+=60*+t[0]+ +t[1]}));var o=0;return 0===n&&0===r&&(o=100),[n,r,o]}},{key:"actionCardsForSomePeriod",value:function(e){var t=y()(),a=t.clone().subtract(e,"days");return this.actionCards.filter((function(e){return y()(e.date).isSameOrAfter(a,"day")&&y()(e.date).isSameOrBefore(t,"day")}))}},{key:"changeRealDuration",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{realDuration:a.realDuration+t}):a}))}},{key:"changeEmotion",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{emotion:t}):a})),this.updateActionCard(e)}},{key:"changeActionName",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{actionName:t}):a}))}},{key:"changeExpectedDuration",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{expectedDuration:t}):a}))}},{key:"changeIsWork",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{isWork:t}):a}))}},{key:"removeActionCard",value:function(e){var t=this,a={id:e};M.a.post("/remove_todo",a,{headers:{Token:localStorage.getItem("token")||""}}).then((function(a){t.actionCards=t.actionCards.filter((function(t){return t.id!==e}))}))}},{key:"removeDatedActionCards",value:function(e){var t=this,a={date:e};M.a.post("/delete_dated_todos",a,{headers:{Token:localStorage.getItem("token")||""}}).then((function(a){t.actionCards=t.actionCards.filter((function(t){return t.date!==e}))}))}},{key:"removeAllActionCards",value:function(){M.a.post("/delete_all_todos","remove all todos",{headers:{Token:localStorage.getItem("token")||""}}).catch((function(e){return console.log("Error")})),this.getActionCards()}},{key:"completeActionCard",value:function(e){this.actionCards=this.actionCards.map((function(t){return t.id===e?Object(S.a)(Object(S.a)({},t),{},{isDone:!t.isDone}):t})),this.updateActionCard(e)}},{key:"completeFinilisedActions",value:function(e){var t=this.actionCards.filter((function(t){return t.id===e})),a=[];t.map((function(e){return a.push({actionName:e.actionName,expectedDuration:e.expectedDuration,isWork:e.isWork.toString(),date:e.date,realDuration:e.realDuration.toString(),emotion:e.emotion,isDone:e.isDone.toString()}),a}));var n=JSON.stringify(a);M.a.post("/complete_finilisedtodos",n),this.actionCards=this.actionCards.map((function(t){return t.id===e?Object(S.a)(Object(S.a)({},t),{},{isDone:!0}):t}))}},{key:"sortPlanner",value:function(e){return this.actionCards.filter((function(t){return t.date===e}))}},{key:"changeCard",value:function(e){var t={actionName:e.actionName,expectedDuration:e.expectedDuration,isWork:e.isWork.toString(),date:e.date,realDuration:e.realDuration.toString(),emotion:e.emotion,isDone:e.isDone.toString()},a=JSON.stringify(t);M.a.post("/change_todo",a)}}]),e}(),R=function(){function e(){Object(_.a)(this,e),this.actionCards=[],this.profile="",Object(P.d)(this)}return Object(w.a)(e,[{key:"setProfile",value:function(e){this.profile=e}},{key:"getActionCards",value:function(){var e=Object(N.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===localStorage.getItem(Y)?this.actionCards=[]:(t=JSON.parse(localStorage.getItem(Y)).actions,this.actionCards=t);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUsername",value:function(){var e=Object(N.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.profile="";case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addActionCard",value:function(e){this.actionCards.push(e),this.save()}},{key:"updateActionCard",value:function(e){this.save()}},{key:"preparePlanningChart",value:function(e){var t=this.sortPlanner(e).filter((function(e){return!0===e.isWork})),a=this.sortPlanner(e).filter((function(e){return!1===e.isWork})),n=0;t.map((function(e){var t=e.expectedDuration.split(":");return n+=60*+t[0]+ +t[1]}));var r=0;a.map((function(e){var t=e.expectedDuration.split(":");return r+=60*+t[0]+ +t[1]}));var o=0;return 0===n&&0===r&&(o=100),[n,r,o]}},{key:"actionCardsForSomePeriod",value:function(e){var t=y()(),a=t.clone().subtract(e,"days");return this.actionCards.filter((function(e){return y()(e.date).isSameOrAfter(a,"day")&&y()(e.date).isSameOrBefore(t,"day")}))}},{key:"changeRealDuration",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{realDuration:a.realDuration+t}):a})),this.save()}},{key:"changeEmotion",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{emotion:t}):a})),this.save()}},{key:"changeActionName",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{actionName:t}):a})),this.save()}},{key:"changeExpectedDuration",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{expectedDuration:t}):a})),this.save()}},{key:"changeIsWork",value:function(e,t){this.actionCards=this.actionCards.map((function(a){return a.id===e?Object(S.a)(Object(S.a)({},a),{},{isWork:t}):a})),this.save()}},{key:"removeActionCard",value:function(e){this.actionCards=this.actionCards.filter((function(t){return t.id!==e})),this.save()}},{key:"removeDatedActionCards",value:function(e){this.actionCards=this.actionCards.filter((function(t){return t.date!==e})),this.sortPlanner(e),this.save()}},{key:"removeAllActionCards",value:function(){this.actionCards=[],this.clearData()}},{key:"completeActionCard",value:function(e){this.actionCards=this.actionCards.map((function(t){return t.id===e?Object(S.a)(Object(S.a)({},t),{},{isDone:!t.isDone}):t})),this.save()}},{key:"completeFinilisedActions",value:function(e){this.actionCards=this.actionCards.map((function(t){return t.id===e?Object(S.a)(Object(S.a)({},t),{},{isDone:!0}):t})),this.save()}},{key:"sortPlanner",value:function(e){return this.actionCards.filter((function(t){return t.date===e}))}},{key:"save",value:function(){var e={actions:this.actionCards};localStorage.setItem(Y,JSON.stringify(e))}},{key:"clearData",value:function(){localStorage.clear()}}]),e}(),E=function(){function e(){Object(_.a)(this,e),this.store=new R,this.showOverlay=!1,Object(P.d)(this)}return Object(w.a)(e,[{key:"setStore",value:function(e){this.store=e}},{key:"setShowOverlay",value:function(e){this.showOverlay=e}},{key:"clearStore",value:function(){localStorage.removeItem(F),localStorage.removeItem("token"),this.store=new R}}]),e}(),L=new E,B=a(542),V=a(54),J=a(6),z=Object(V.a)((function(e){var t=e.date,a=L.store.actionCards.filter((function(e){return e.date===t})),r=0===a.length,o=b.a.Option,i=a.map((function(e){return{key:e.id,plans:Object(J.jsx)(O.a,{style:e.isWork?{width:"150px",backgroundColor:"rgba(142, 202, 230)"}:{width:"150px",backgroundColor:"rgba(255, 183, 3)"},defaultValue:e.actionName,onChange:function(t){return L.store.changeActionName(e.id,t.target.value)}}),duration:Object(J.jsx)(O.a,{style:{width:"70px"},defaultValue:e.expectedDuration,onChange:function(t){return L.store.changeExpectedDuration(e.id,t.target.value)}}),category:Object(J.jsxs)(b.a,{style:{width:"90px"},defaultValue:e.isWork?n.Work:n.Rest,onChange:function(t){return L.store.changeIsWork(e.id,t===n.Work)},children:[Object(J.jsx)(o,{value:n.Work,children:n.Work}),Object(J.jsx)(o,{value:n.Rest,children:n.Rest})]}),remove:Object(J.jsx)(f.a,{onClick:function(){return L.store.removeActionCard(e.id)},children:"Remove"})}}));return Object(J.jsx)(J.Fragment,{children:r?Object(J.jsx)("div",{children:Object(J.jsx)("p",{className:"noTasks",children:"No plans for the day"})}):Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(B.a,{bordered:!1,size:"small",columns:[{title:"Plans:",dataIndex:"plans",key:"plans"},{title:"Duration:",dataIndex:"duration",key:"duration"},{title:"Category:",dataIndex:"category",key:"category"},{title:"",dataIndex:"remove",key:"remove"}],dataSource:i,pagination:{pageSize:4}})})})})),K=(a(194),a(87));var U=Object(V.a)((function(e){var t=e.date,a={datasets:[{id:1,label:"".concat(L.store.actionCards.length),data:L.store.preparePlanningChart(t),backgroundColor:["rgba(142, 202, 230, 1)","rgba(255, 183, 3, 0.8)","rgba(255,255,255)"],borderColor:["black","black"],borderWidth:.2}],labels:["Work (mins)","Leisure (mins)"]};return Object(J.jsxs)("div",{className:"chartPlanning",children:[Object(J.jsx)(K.a,{datasetIdKey:"".concat(Math.random()),type:"pie",data:a}),Object(J.jsx)("p",{children:"Time allocation"})]})})),q=a(549),H=a(550),G=Object(V.a)((function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(""),i=Object(u.a)(o,2),c=i[0],s=i[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(r.useState)(""),m=Object(u.a)(h,2),g=m[0],p=m[1],x=Object(r.useState)(""),v=Object(u.a)(x,2),y=v[0],k=v[1],C=Object(r.useState)(""),D=Object(u.a)(C,2),S=D[0],N=D[1],_=Object(r.useState)(!1),w=Object(u.a)(_,2),W=w[0],I=w[1];return Object(r.useEffect)((function(){"localStorage"===localStorage.getItem(F)?(L.setStore(new R),L.setShowOverlay(!1),L.store.getActionCards()):"server"===localStorage.getItem(F)?""!==localStorage.getItem("token")&&(L.setStore(new T),L.store.getUsername(),L.setShowOverlay(!1),L.store.getActionCards()):L.setShowOverlay(!0)}),[]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(q.a,{visible:L.showOverlay,centered:!0,closable:!1,maskClosable:!1,footer:null,style:{textAlign:"center"},children:[Object(J.jsx)("h1",{style:{color:"#023047"},children:"By default, your tasks are stored in LocalStorage. But you can choose to store the data on the server."}),Object(J.jsx)(f.a,{className:"login_button",onClick:function(){localStorage.setItem("memory","localStorage"),L.setStore(new R),L.setShowOverlay(!1)},children:"Store in LocalStorage!"},"localStorage"),Object(J.jsx)(f.a,{onClick:function(){L.setShowOverlay(!1),I(!0)},className:"login_button",children:"Store on the server!"},"server")]}),Object(J.jsx)(q.a,{visible:W,centered:!0,closable:!1,maskClosable:!1,footer:null,style:{textAlign:"center"},children:Object(J.jsxs)(H.b,{direction:"vertical",children:[Object(J.jsx)("h1",{className:"login_text",children:"Please login to save your data on the server:"}),Object(J.jsx)(O.a,{defaultValue:a,placeholder:"Login",onChange:function(e){return n(e.target.value)},className:"login_input"}),Object(J.jsx)(O.a,{defaultValue:c,type:"password",placeholder:"Password",onChange:function(e){return s(e.target.value)},className:"login_input"}),Object(J.jsx)(f.a,{onClick:function(){var e={username:a,password:c},t=JSON.stringify(e);M.a.post("/login",t).then((function(e){localStorage.setItem(F,"server");var t=e.data;localStorage.setItem("token",t),L.setStore(new T),L.store.getUsername(),L.store.getActionCards(),I(!1)})).catch((function(e){N("\u0412\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u043b\u0438 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),n(""),s("")}))},className:"login_button",children:"Login"}),Object(J.jsx)("p",{className:"text",children:S}),Object(J.jsx)("h1",{className:"login_text",children:"If you don't have an account, please, register:"}),Object(J.jsx)(O.a,{defaultValue:j,type:"text",placeholder:"Login",onChange:function(e){return b(e.target.value)},className:"login_input"}),Object(J.jsx)(O.a,{defaultValue:g,type:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)},className:"login_input"}),Object(J.jsx)(f.a,{className:"login_button",onClick:function(){var e={username:j,password:g},t=JSON.stringify(e);M.a.post("/register",t).then((function(e){localStorage.setItem(F,"server");var t=e.data;localStorage.setItem("token",t),L.setStore(new T),L.store.getUsername(),L.store.getActionCards(),I(!1)})).catch((function(e){if(500!==e.response.status)throw e;k("\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u043c\u0438 \u043b\u043e\u0433\u0438\u043d \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439."),b(""),p("")}))},children:"Register"}),Object(J.jsx)("p",{className:"memoryRequest_form_error",children:y}),Object(J.jsx)(f.a,{className:"login_button",onClick:function(){localStorage.setItem("memory","localStorage"),L.setStore(new R),L.setShowOverlay(!1),I(!1)},children:"Save data in LocalStorage"})]})})]})})),Q=a(208),X=a.n(Q);y.a.locale("en");var Z=Object(V.a)((function(){var e=j.a.useForm(),t=Object(u.a)(e,1)[0],a=b.a.Option,o=Object(r.useState)(new Date),i=Object(u.a)(o,2),c=i[0],s=i[1],l=y()(c).format("dddd (D MMMM YYYY)"),v=y()(c).format("YYYY-MM-DD"),k={id:Object(D.a)(),actionName:"",expectedDuration:"",isWork:!0,date:v,realDuration:0,emotion:0,isDone:!1},S=Object(r.useState)([k]),N=Object(u.a)(S,2),_=N[0],w=N[1],W="HH:mm",I=Object(J.jsxs)(h.a,{children:[Object(J.jsx)(X.a,{children:Object(J.jsx)("p",{onClick:function(){w(_.filter((function(e){return e.date!==v}))),L.store.removeDatedActionCards(v)},className:"text",children:"Delete the plans for the day"})}),Object(J.jsx)(X.a,{children:Object(J.jsx)("p",{onClick:function(){w([k]),L.store.removeAllActionCards()},className:"text",children:"Delete all plans"})})]});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{className:"space",children:Object(J.jsxs)("div",{className:"block_date_and_icon",children:[Object(J.jsx)("div",{className:"block_date",children:Object(J.jsx)("h1",{className:"date",children:l})}),Object(J.jsx)("div",{className:"block_icon",children:Object(J.jsx)(m.a,{overlay:I,placement:"bottomLeft",trigger:["click"],children:Object(J.jsx)(f.a,{icon:Object(J.jsx)(p.a,{}),style:{border:"0px solid transparent"}})})})]})}),Object(J.jsxs)("div",{className:"mainBlock",children:[Object(J.jsx)("div",{className:"block_calendar",children:Object(J.jsx)(x.a,{className:"calendar",value:c,onChange:function(e){return s(e)},locale:"en",localeUtils:C.a})}),Object(J.jsx)("div",{className:"block_plans",children:Object(J.jsx)(z,{date:v})}),Object(J.jsx)("div",{className:"block_chart",children:Object(J.jsx)(U,{date:v})})]}),Object(J.jsx)("div",{className:"footer",children:Object(J.jsx)("div",{className:"footer_form",children:Object(J.jsxs)(j.a,{form:t,layout:"inline",onFinish:function(e){w([].concat(Object(d.a)(_),[{id:Object(D.a)(),actionName:e.action,expectedDuration:y()(e.duration).format(W),isWork:e.category===n.Work,date:v,realDuration:0,emotion:0,isDone:!1}])),L.store.addActionCard({id:Object(D.a)(),actionName:e.action,expectedDuration:y()(e.duration).format(W),isWork:e.category===n.Work,date:v,realDuration:0,emotion:"\ud83d\ude0a",isDone:!1}),t.resetFields()},children:[Object(J.jsx)(j.a.Item,{name:"action",label:Object(J.jsx)("label",{style:{color:"#023047",fontFamily:"PTSansRegular",fontWeight:"bold"},children:"Plans"}),rules:[{required:!0,message:"To be inserted"}],children:Object(J.jsx)(O.a,{placeholder:"Insert your task",style:{width:"150px"}})}),Object(J.jsx)(j.a.Item,{name:"duration",label:Object(J.jsx)("label",{style:{color:"#023047",fontFamily:"PTSansRegular",fontWeight:"bold"},children:"Duration"}),rules:[{required:!0,message:"To be inserted"},function(e){e.getFieldValue;return{validator:function(e,t){return"00:00"===y()(t).format(W)?Promise.reject("Please enter duration of the task"):Promise.resolve()}}}],children:Object(J.jsx)(g.a,{placeholder:"hh:mm",format:W,style:{width:"100px"},showNow:!1})}),Object(J.jsx)(j.a.Item,{name:"category",label:Object(J.jsx)("label",{style:{color:"#023047",fontFamily:"PTSansRegular",fontWeight:"bold"},children:"Category"}),rules:[{required:!0,message:"To be inserted"}],children:Object(J.jsxs)(b.a,{placeholder:"Select",optionFilterProp:"children",style:{width:"90px"},children:[Object(J.jsx)(a,{value:n.Work,children:n.Work}),Object(J.jsx)(a,{value:n.Rest,children:n.Rest})]})}),Object(J.jsx)(j.a.Item,{name:"saveButton",children:Object(J.jsx)(f.a,{htmlType:"submit",style:{backgroundColor:"rgba(255, 183, 3, 0.8)",fontFamily:"PTSansRegular"},children:"Save"})})]})})}),Object(J.jsx)(G,{})]})})),$=a(551),ee=a(552),te=Object(V.a)((function(e){var t=e.id,a=e.duration,n=e.isButtonDisabled,o=a,i=Object(r.useState)(!1),c=Object(u.a)(i,2),s=c[0],l=c[1];Object(r.useEffect)((function(){if(s&&!n){var e=setInterval((function(){L.store.changeRealDuration(t,1)}),1e3);return function(){clearInterval(e)}}}),[t,s,n]);var d=(Math.floor(o/60)<10?"0"+Math.floor(o/60):Math.floor(o/60))+":"+(o-60*Math.floor(o/60)<10?"0"+(o-60*Math.floor(o/60)):o-60*Math.floor(o/60));return Object(J.jsxs)("div",{className:"clock",style:{width:"75px"},children:[Object(J.jsx)("div",{className:"tableElem",children:d}),Object(J.jsx)("div",{className:"tableElem",children:Object(J.jsx)(f.a,{size:"small",disabled:n,onClick:function(){l(!s),s&&L.store.updateActionCard(t)},icon:s?Object(J.jsx)(ee.a,{}):Object(J.jsx)($.a,{})})})]})})),ae=Object(V.a)((function(){var e=y()().format("YYYY-MM-DD"),t=b.a.Option,a=L.store.actionCards.filter((function(t){return t.date===e})),r=a.map((function(e){return{key:e.id,plans:Object(J.jsx)("div",{style:e.isWork?{width:"160px",backgroundColor:"rgba(142, 202, 230)"}:{width:"160px",backgroundColor:"rgba(255, 183, 3)"},children:e.actionName+" (".concat(e.expectedDuration,")")}),category:Object(J.jsx)("div",{children:e.isWork?n.Work:n.Rest}),stopwatch:Object(J.jsx)(te,{id:e.id,duration:e.realDuration,isButtonDisabled:e.isDone||!1}),emotion:Object(J.jsxs)(b.a,{defaultValue:"\ud83d\ude0a",disabled:e.isDone||!1,onChange:function(t){return L.store.changeEmotion(e.id,t)},children:[Object(J.jsx)(t,{value:"\ud83d\ude0a",children:"\ud83d\ude0a"}),Object(J.jsx)(t,{value:"\ud83d\ude10",children:"\ud83d\ude10"}),Object(J.jsx)(t,{value:"\u2639\ufe0f",children:"\u2639\ufe0f"})]}),remove:Object(J.jsx)(f.a,{onClick:function(){return L.store.completeActionCard(e.id)},children:e.isDone?"Cancel":"Finish"})}}));return 0===a.length?Object(J.jsx)("div",{className:"mainBlock2",children:Object(J.jsx)("h4",{className:"noTasks",children:"No plans for today."})}):Object(J.jsx)(B.a,{style:{color:"#023047"},columns:[{title:"Your plans:",dataIndex:"plans",key:"plans"},{title:"Category:",dataIndex:"category",key:"category"},{title:"Stopwatch:",dataIndex:"stopwatch",key:"stopwatch"},{title:"Mood:",dataIndex:"emotion",key:"emotion"},{title:"",dataIndex:"remove",key:"remove"}],dataSource:r,size:"small",bordered:!1,pagination:{pageSize:4}})})),ne=a(548),re=a(545);var oe=Object(V.a)((function(e){var t,a=function(e){var a=L.store.sortPlanner(e).filter((function(e){return"\u2639\ufe0f"===e.emotion})),n=L.store.sortPlanner(e).filter((function(e){return"\ud83d\ude10"===e.emotion})),r=L.store.sortPlanner(e).filter((function(e){return"\ud83d\ude0a"===e.emotion})),o=a.reduce((function(e,t){return e+t.realDuration/60}),0),i=n.reduce((function(e,t){return e+t.realDuration/60}),0),c=r.reduce((function(e,t){return e+t.realDuration/60}),0),s=0;return 0===o&&0===i&&0===c&&(s=100),c>i&&c>o?t="excellent":i>c&&i>o?t="good":o>c&&o>i&&(t="badly"),[c,i,o,s]}(e.date),n={labels:["\ud83d\ude0a (min)","\ud83d\ude10 (min)","\u2639\ufe0f (min)"],datasets:[{id:1,label:"".concat(L.store.actionCards.length),data:a,backgroundColor:["rgba(167, 201, 87, 1)","rgba(255, 223, 82, 1)","rgba(188, 71, 73, 1)","rgba(243, 246, 224, 0.5)"],borderColor:["black","black","black"],borderWidth:.2}]};return Object(J.jsx)("div",{children:Object(J.jsxs)(re.a,{style:{backgroundColor:"#023047",color:"rgba(255, 183, 3)",fontWeight:"bold",textAlign:"center"},children:[Object(J.jsx)(K.a,{datasetIdKey:"".concat(L.store.actionCards.length),type:"pie",data:n}),Object(J.jsxs)("p",{children:["Mostly completing tasks you felt ",t]})]})})}));var ie=function(e){var t=e.date,a=0,n=function(e){var t=0,n=0;L.store.sortPlanner(e).map((function(e){var a=e.expectedDuration.split(":");return t+=3600*+a[0]+60*+a[1]+ +a[2],n+=e.realDuration,t&&n}));var r=100-(a=100*n/t);return 0===n&&(r=100),[a,r]}(t),r={labels:["Done (%)","To be done (%)"],datasets:[{id:1,label:"".concat(L.store.actionCards.length),data:n,backgroundColor:["rgba(255, 183, 3, 0.8)","rgba(243, 246, 224, 1)"],borderColor:["black","black"],borderWidth:.2}]};return Object(J.jsx)("div",{children:Object(J.jsxs)(re.a,{style:{backgroundColor:"#023047",color:"rgba(255, 183, 3)",fontWeight:"bold",textAlign:"center"},children:[Object(J.jsx)(K.a,{datasetIdKey:"".concat(L.store.actionCards.length),type:"pie",data:r,options:{color:"rgba(255, 183, 3)",font:{family:"PTSansRegular"}}}),Object(J.jsxs)("p",{children:["Your tasks were completed by"," ",isNaN(Math.floor(a))?"0":Math.floor(a),"%"]})]})})},ce=Object(V.a)((function(){var e=y()(new Date).format("dddd (D MMMM YYYY)");return Object(J.jsxs)("div",{className:"mainBlock_myDay",children:[Object(J.jsxs)("div",{className:"mainBlock_myDay_plans",children:[Object(J.jsx)("div",{children:Object(J.jsx)("h1",{style:{color:"#023047"},children:e})}),Object(J.jsx)("div",{children:Object(J.jsx)(ae,{})})]}),Object(J.jsxs)("div",{className:"mainBlock_myDay_charts",children:[Object(J.jsx)("div",{className:"myDay_charts_container",children:Object(J.jsxs)(ne.a,{children:[Object(J.jsx)(oe,{date:y()().format("YYYY-MM-DD")}),Object(J.jsx)(ie,{date:y()().format("YYYY-MM-DD")})]})}),Object(J.jsx)(G,{})]})]})}));var se,le=Object(V.a)((function(e){var t,a,n=e.days,r=0,o={labels:["Done (%)","To be done (%)"],datasets:[{id:1,label:"".concat(L.store.actionCards.length),data:function(){var e=0,t=0;L.store.actionCardsForSomePeriod(n).map((function(a){var n=a.expectedDuration.split(":");return e+=3600*+n[0]+60*+n[1]+ +n[2],t+=a.realDuration}));var a=100-(r=100*t/e);return 0===t&&(a=100),[r,a]}(),backgroundColor:["rgba(255, 183, 3, 0.8)","rgba(243, 246, 224, 1)"],borderColor:["black","black"],borderWidth:.2}]},i={labels:["\ud83d\ude0a (min)","\ud83d\ude10 (min)","\u2639\ufe0f (min)"],datasets:[{id:1,label:"".concat(L.store.actionCards.length),data:function(){var e=L.store.actionCardsForSomePeriod(n).filter((function(e){return"\u2639\ufe0f"===e.emotion})),a=L.store.actionCardsForSomePeriod(n).filter((function(e){return"\ud83d\ude10"===e.emotion})),r=L.store.actionCardsForSomePeriod(n).filter((function(e){return"\ud83d\ude0a"===e.emotion})),o=0;e.map((function(e){return o+=e.realDuration/60}));var i=0;a.map((function(e){return i+=e.realDuration/60}));var c=0;r.map((function(e){return c+=e.realDuration/60}));var s=0;return 0===o&&0===i&&0===c&&(s=100),c>i&&c>o?t="excellent":i>c&&i>o?t="good":o>c&&o>i&&(t="badly"),[c,i,o,s]}(),backgroundColor:["rgba(167, 201, 87, 1)","rgba(255, 223, 82, 1)","rgba(188, 71, 73, 1)","rgba(243, 246, 224, 0.5)"],borderColor:["black","black","black"],borderWidth:.2}]},c={labels:["Work (mins)","Leisure (mins)"],datasets:[{id:1,label:"".concat(L.store.actionCards.length),data:function(){var e=L.store.actionCardsForSomePeriod(n).filter((function(e){return!0===e.isWork})),t=L.store.actionCardsForSomePeriod(n).filter((function(e){return!1===e.isWork})),r=0;e.map((function(e){return r+=e.realDuration/60}));var o=0;t.map((function(e){return o+=e.realDuration/60})),a=r>o?'"Work"':r<o?'"Leisure"':"";var i=0;return 0===r&&0===o&&(i=100),[r,o,i]}(),backgroundColor:["rgba(142, 202, 230)","rgba(255, 183, 3, 0.8)","rgba(243, 246, 224, 0.5)"],borderColor:["black","black"],borderWidth:.2}]};return Object(J.jsx)("div",{className:"statistics_report_container",children:Object(J.jsxs)(ne.a,{children:[Object(J.jsx)("div",{className:"statistics_report_card",children:Object(J.jsxs)(re.a,{style:{backgroundColor:"#023047",color:"rgba(255, 183, 3)",fontWeight:"bold"},children:[Object(J.jsx)(K.a,{datasetIdKey:"".concat(L.store.actionCards.length),type:"pie",data:o,options:{color:"rgba(255, 183, 3)",font:{family:"PTSansRegular"}}}),Object(J.jsxs)("p",{children:["Your tasks were completed by"," ",isNaN(Math.floor(r))?"0":Math.floor(r),"%"]})]})}),Object(J.jsx)("div",{className:"statistics_report_card",children:Object(J.jsxs)(re.a,{style:{backgroundColor:"#023047",color:"rgba(255, 183, 3)",fontWeight:"bold"},children:[Object(J.jsx)(K.a,{datasetIdKey:"".concat(L.store.actionCards.length),type:"pie",data:c,options:{color:"rgba(255, 183, 3)",font:{family:"PTSansRegular"}}}),Object(J.jsxs)("p",{children:["Mostly you performed tasks from the category ",a]})]})}),Object(J.jsx)("div",{className:"statistics_report_card",children:Object(J.jsxs)(re.a,{style:{backgroundColor:"#023047",color:"rgba(255, 183, 3)",fontWeight:"bold"},children:[Object(J.jsx)(K.a,{datasetIdKey:"".concat(L.store.actionCards.length),type:"pie",data:i,options:{color:"rgba(255, 183, 3)",font:{family:"PTSansRegular"}}}),Object(J.jsxs)("p",{children:["Mostly completing tasks you felt ",t]})]})})]})})}));!function(e){e.Weekly="last week",e.Monthly="last month",e.Annually="last year"}(se||(se={}));var de=function(){var e=Object(r.useState)("last week"),t=Object(u.a)(e,2),a=t[0],n=t[1],o=7;a===se.Monthly?o=30:a===se.Annually&&(o=365);var i=Object(J.jsxs)(h.a,{children:[Object(J.jsx)(h.a.Item,{children:Object(J.jsx)("p",{className:"statistics_text",onClick:function(){return n(se.Weekly)},children:se.Weekly})},"0"),Object(J.jsx)(h.a.Item,{children:Object(J.jsx)("p",{className:"statistics_text",onClick:function(){return n(se.Monthly)},children:se.Monthly})},"1"),Object(J.jsx)(h.a.Item,{children:Object(J.jsx)("p",{className:"statistics_text",onClick:function(){return n(se.Annually)},children:se.Annually})},"2")]});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{className:"statistics_range",children:Object(J.jsx)("div",{className:"statistics_text_container",children:Object(J.jsxs)("h1",{className:"statistics_text",children:["Analyze your results for the"," ",Object(J.jsx)(m.a,{overlay:i,children:Object(J.jsx)("span",{className:"statistics_text statistics_link",children:a})})]})})}),Object(J.jsx)(le,{days:o}),Object(J.jsx)(G,{})]})},ue=a(544),je=a(553),be=Object(V.a)((function(){var e=Object(J.jsx)(ue.f,{children:Object(J.jsx)(ue.g,{icon:"log-out",text:"Log out",onClick:function(){L.store.setProfile(""),L.clearStore(),L.setShowOverlay(!0)}},"1")});return""===L.store.profile?Object(J.jsx)(ue.a,{minimal:!0,className:"menu_link",onClick:function(){L.clearStore(),L.setShowOverlay(!0)},children:"Log in"}):Object(J.jsx)("div",{className:"profile",children:Object(J.jsx)(m.a,{overlay:e,children:Object(J.jsxs)(ue.a,{minimal:!0,style:{color:"#023047"},children:[Object(J.jsx)(je.a,{})," ",L.store.profile]})})})}));var he=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)("div",{className:"logo_container",children:Object(J.jsx)("p",{className:"logo_name",children:"Planner"})}),Object(J.jsxs)("div",{className:"menu",children:[Object(J.jsx)(s.b,{to:"/Planning",className:"menu_link active",children:"Planning"}),Object(J.jsx)(s.b,{to:"/MyDay",className:"menu_link",children:"My day"}),Object(J.jsx)(s.b,{to:"/Statistics",className:"menu_link",children:"Statistics"}),Object(J.jsx)(be,{})]}),Object(J.jsxs)(l.c,{children:[Object(J.jsx)(l.a,{path:"/",element:Object(J.jsx)(Z,{})}),Object(J.jsx)(l.a,{path:"/Planning",element:Object(J.jsx)(Z,{})}),Object(J.jsx)(l.a,{path:"/MyDay",element:Object(J.jsx)(ce,{})}),Object(J.jsx)(l.a,{path:"/Statistics",element:Object(J.jsx)(de,{})})]})]})})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,554)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};c.a.render(Object(J.jsxs)(o.a.StrictMode,{children:[Object(J.jsx)(s.a,{children:Object(J.jsx)(he,{})}),","]}),document.getElementById("root")),me()}},[[538,1,2]]]);
//# sourceMappingURL=main.892de667.chunk.js.map